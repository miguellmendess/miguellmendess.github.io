(function(Wishlist){var $wishlistButton=document.querySelectorAll(".wishlist-btn"),$addcartButton=document.querySelectorAll(".is-add-cart"),$wishlistTile=document.querySelectorAll(".wishlist-container"),numProductTiles=$wishlistTile.length,wishlist=localStorage.getItem("user_wishlist")||[];wishlist.length>0&&(wishlist=JSON.parse(localStorage.getItem("user_wishlist")));var animateWishlist=function(self){self.classList.toggle("is-active")},updateWishlist=function(self){var productHandle=self.getAttribute("data-product-handle"),productId=self.getAttribute("data-product-id"),isRemove=self.classList.contains("is-active"),isaddCart=self.classList.contains("is-add-cart");if(isRemove){var removeIndex=wishlist.indexOf(productHandle);wishlist.splice(removeIndex,1),localStorage.setItem("user_wishlist",JSON.stringify(wishlist)),mt.toastMsg(mt.wishlist.removed_wishlist,"bg-info"),self.closest("tbody").style.lineHeight="0",setTimeout(function(){self.closest("tbody").style.display="none"},500)}else if(isaddCart){cart.add(productId);var removeIndex=wishlist.indexOf(productHandle);wishlist.splice(removeIndex,1),localStorage.setItem("user_wishlist",JSON.stringify(wishlist)),self.closest("tbody").style.lineHeight=0,setTimeout(function(){self.closest("tbody").style.display="none"},500)}else wishlist.push(productHandle),localStorage.setItem("user_wishlist",JSON.stringify(wishlist)),mt.toastMsg(mt.wishlist.added_wishlist,"bg-success")},activateItemsInWishlist=function(){$wishlistButton.forEach(function(item){var productHandle=item.getAttribute("data-product-handle");wishlist.indexOf(productHandle)>-1&&item.classList.add("is-active")})},displayOnlyWishlistItems=function(){$wishlistTile.forEach(function(item){var productHandle=item.getAttribute("data-product-handle");wishlist.indexOf(productHandle)===-1&&(item.remove(),numProductTiles--)})},loadWishlist=function(){if(window.location.href.indexOf("pages/wishlist")>-1){displayOnlyWishlistItems();var wishlistLoader=document.querySelector(".wishlist-loader");wishlistLoader.style.opacity=0,setTimeout(function(){for(var wishlistProduct=document.querySelectorAll(".wishlist-product"),i=0;i<wishlistProduct.length;i++)wishlistProduct[i].style.display="table";if(numProductTiles==0){var wishlistEmpty=document.querySelector(".wishlist-empty"),wishlistHead=document.querySelector(".wishlist-head");wishlistEmpty.style.display="block",wishlistHead.style.display="none"}else{var wishlistEmpty=document.querySelector(".wishlist-empty");wishlistEmpty.style.display="none"}},500)}},bindUIActions=function(){$wishlistButton.forEach(function(item){item.addEventListener("click",function(e){e.preventDefault(),updateWishlist(this),animateWishlist(this)})}),$addcartButton.forEach(function(item){item.addEventListener("click",function(e){e.preventDefault(),updateWishlist(this),animateWishlist(this)})})};Wishlist.init=function(){bindUIActions(),activateItemsInWishlist(),loadWishlist()}})(window.Wishlist=window.Wishlist||{});
//# sourceMappingURL=/cdn/shop/t/57/assets/Wishlist.js.map?v=168654851498793612961722493506
